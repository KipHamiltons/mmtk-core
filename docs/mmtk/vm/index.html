<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="MMTk-to-VM interface: the VMBinding trait."><meta name="keywords" content="rust, rustlang, rust-lang, vm"><title>mmtk::vm - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../mmtk/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module vm</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#traits">Traits</a></li></ul></div><p class="location"><a href="../index.html">mmtk</a></p><div id="sidebar-vars" data-name="vm" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">mmtk</a>::<wbr><a class="mod" href="">vm</a><button id="copy-path" onclick="copy_path(this)"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item import"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/mmtk/vm/mod.rs.html#1-63" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>MMTk-to-VM interface: the VMBinding trait.</p>
<p>This module provides VM-specific traits that serve as MMTK-to-VM interfaces.
Each VM binding needs to provide an implementation for each of the traits.
MMTk requires the interfaces to be efficient, as some of the methods are called frequently
during collection (e.g. the methods for <code>ObjectModel</code>). We rely on cross-crate <em>link-time-optimization</em>
to remove the overhead of MMTk invoking methods on those traits.</p>
<p>It is recommended for a VM binding that uses mmtk-core to do the following to ensure LTO is enabled for performance.</p>
<ol>
<li>Add the following section in the manifest file of a VM binding (<code>Cargo.toml</code>). This enables LTO for the release build:
<div class="example-wrap"><pre class="rust rust-example-rendered">
[<span class="ident">profile</span>.<span class="ident">release</span>]
<span class="ident">lto</span> <span class="op">=</span> <span class="bool-val">true</span></pre></div>
</li>
<li>Make sure that the crate type for a VM binding supports LTO. To our knowledge, <code>staticlib</code> and <code>cdylib</code> support LTO, and
<code>rlib</code> does <em>not</em> support LTO.</li>
</ol>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="active_plan/index.html" title="mmtk::vm::active_plan mod">active_plan</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="collection/index.html" title="mmtk::vm::collection mod">collection</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="object_model/index.html" title="mmtk::vm::object_model mod">object_model</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="reference_glue/index.html" title="mmtk::vm::reference_glue mod">reference_glue</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="scanning/index.html" title="mmtk::vm::scanning mod">scanning</a></td><td class="docblock-short"></td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.ActivePlan.html" title="mmtk::vm::ActivePlan trait">ActivePlan</a></td><td class="docblock-short"><p>VM-specific methods for the current plan.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Collection.html" title="mmtk::vm::Collection trait">Collection</a></td><td class="docblock-short"><p>VM-specific methods for garbage collection.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.ObjectModel.html" title="mmtk::vm::ObjectModel trait">ObjectModel</a></td><td class="docblock-short"><p>VM-specific methods for object model.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.ReferenceGlue.html" title="mmtk::vm::ReferenceGlue trait">ReferenceGlue</a></td><td class="docblock-short"><p>VM-specific methods for reference processing.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Scanning.html" title="mmtk::vm::Scanning trait">Scanning</a></td><td class="docblock-short"><p>VM-specific methods for scanning roots/objects.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.VMBinding.html" title="mmtk::vm::VMBinding trait">VMBinding</a></td><td class="docblock-short"><p>The <code>VMBinding</code> trait associates with each trait, and provides VM-specific constants.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="mmtk" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script></body></html>